(this.webpackJsonpganymede=this.webpackJsonpganymede||[]).push([[0],{100:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(10),s=c.n(r),o=(c(98),c(99),c(16)),i=(c(100),c(153)),l=c(166),j=c(167),h=c(81),u=c.n(h),b=c(82),d=c.n(b),f=c(46),O=c.n(f),x=c(66),m=c(74),p=c(171),v=c(114),g=c(157),w=c(158),S=c(159),C=c(160),y=c(161),k=c(162),N=c(163),I=c(115),T=c(164),P=c(118),F=c(123),B=c(120),L=c(172),E=c(165),R=c(170),z=c(79),M=c.n(z),U=c(3),A=Object(i.a)((function(e){return Object(p.a)({formControl:{width:"100%",marginBottom:e.spacing(3)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},appBar:{display:"relative"},title:{marginLeft:e.spacing(2),flex:1},img:{display:"Block",objectFit:"contain",width:"100%"}})})),J=function e(t,c){Object(m.a)(this,e),this.value=void 0,this.choices=void 0,this.value=t,this.choices=c},D=0;var H=function(){var e=A(),t=n.a.useState("192.168.1.90"),c=Object(o.a)(t,2),r=c[0],s=c[1],i=n.a.useState(!0),l=Object(o.a)(i,2),j=l[0],h=l[1],u=n.a.useState(),b=Object(o.a)(u,2),d=b[0],f=b[1],m=n.a.useState("?"),p=Object(o.a)(m,2),z=p[0],H=p[1],V=n.a.useState(new J("",[""])),X=Object(o.a)(V,2),_=X[0],q=X[1],G=n.a.useState(new J("",[""])),K=Object(o.a)(G,2),Q=K[0],W=K[1],Y=n.a.useState(new J("",[""])),Z=Object(o.a)(Y,2),$=Z[0],ee=Z[1],te=n.a.useState("5"),ce=Object(o.a)(te,2),ae=ce[0],ne=ce[1],re=n.a.useState("10"),se=Object(o.a)(re,2),oe=se[0],ie=se[1],le=n.a.useState(!1),je=Object(o.a)(le,2),he=je[0],ue=je[1],be=n.a.useState("Stop"),de=Object(o.a)(be,2),fe=de[0],Oe=de[1],xe=n.a.useState(!1),me=Object(o.a)(xe,2),pe=me[0],ve=me[1],ge=n.a.useState(""),we=Object(o.a)(ge,2),Se=we[0],Ce=we[1];Object(a.useEffect)((function(){j||(h(!0),fetch("http://".concat(r,":8080/set-config-item/iso"),{method:"POST",body:_.value}).then((function(e){h(!1)})).catch((function(e){f(e),h(!1)})))}),[_]),Object(a.useEffect)((function(){j||(h(!0),fetch("http://".concat(r,":8080/set-config-item/shutterspeed"),{method:"POST",body:Q.value}).then((function(e){h(!1)})).catch((function(e){f(e),h(!1)})))}),[Q]),Object(a.useEffect)((function(){j||(h(!0),fetch("http://".concat(r,":8080/set-config-item/f-number"),{method:"POST",body:$.value}).then((function(e){h(!1)})).catch((function(e){f(e),h(!1)})))}),[$]),Object(a.useEffect)((function(){ye()}),[]);var ye=function(){h(!0);var e=fetch("http://".concat(r,":8080/get-config-item/iso")).then((function(e){return e.json()})).then((function(e){var t=new J(e.value,e.choices);q(t)})).catch((function(e){f("The camera is not connected, or the device is not on!")})),t=fetch("http://".concat(r,":8080/get-config-item/shutterspeed")).then((function(e){return e.json()})).then((function(e){var t=new J(e.value,e.choices);W(t)})).catch((function(e){f("The camera is not connected, or the device is not on!")})),c=fetch("http://".concat(r,":8080/get-config-item/f-number")).then((function(e){return e.json()})).then((function(e){var t=new J(e.value,e.choices);ee(t)})).catch((function(e){f("The camera is not connected, or the device is not on!")})),a=fetch("http://".concat(r,":8080/get-config-item/focallength")).then((function(e){return e.json()})).then((function(e){var t=500/parseFloat(e.value);H(Math.round(t)+"")})).catch((function(){H("???")}));Promise.all([e,t,c,a]).then((function(){h(!1)}))},ke=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he){e.next=4;break}return D=Number.MAX_VALUE,ue(!1),e.abrupt("return");case 4:return ue(!0),D=0,t=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(D>=Number.parseInt(oe))){e.next=3;break}return ue(!1),e.abrupt("return");case 3:return Oe("Stop ("+(D+1)+"/"+Number.parseInt(oe)+")"),e.prev=4,e.next=7,fetch("http://".concat(r,":8080/capture-image"),{method:"POST"});case 7:h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),f(String(e.t0)),h(!1);case 14:D++,setTimeout(t,1e3*Number.parseFloat(ae));case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),e.next=9,t();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){ve(!1)};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(v.a,{className:e.backdrop,open:j,children:Object(U.jsx)(g.a,{color:"inherit"})}),Object(U.jsxs)(w.a,{fullScreen:!0,open:pe,onClose:Ne,children:[Object(U.jsx)(S.a,{className:e.appBar,children:Object(U.jsxs)(C.a,{children:[Object(U.jsx)(y.a,{edge:"start",color:"inherit",onClick:Ne,"aria-label":"close",children:Object(U.jsx)(M.a,{})}),Object(U.jsx)(k.a,{variant:"h6",className:e.title,children:"Image Preview"})]})}),Object(U.jsx)("br",{})," ",Object(U.jsx)("br",{})," ",Object(U.jsx)("br",{}),Object(U.jsx)("br",{})," ",Object(U.jsx)("br",{})," ",Object(U.jsx)("br",{}),Object(U.jsx)("img",{src:Se,className:e.img,alt:"Preview Image"})]}),Object(U.jsx)(S.a,{position:"static",children:Object(U.jsx)(C.a,{children:Object(U.jsx)(k.a,{variant:"h6",children:"Night Photography"})})}),Object(U.jsx)("br",{}),Object(U.jsxs)(N.a,{children:[d?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(R.a,{severity:"error",children:d}),Object(U.jsx)("br",{})]}):"",Object(U.jsxs)(I.a,{className:e.formControl,variant:"standard",children:[Object(U.jsx)(T.a,{label:"Camera (Server) IP",id:"select-web-address",value:r,onChange:function(e){return s(e.target.value)}}),Object(U.jsx)(P.a,{children:"The IP address of the device connected to the camera"})]}),Object(U.jsxs)(I.a,{className:e.formControl,variant:"standard",children:[Object(U.jsx)(F.a,{id:"select-iso-label",children:"ISO"}),Object(U.jsx)(B.a,{labelId:"select-iso-label",id:"select-iso",value:null===_||void 0===_?void 0:_.value,onChange:function(e){return q(new J(e.target.value,_.choices))},children:null===_||void 0===_?void 0:_.choices.map((function(e){return Object(U.jsx)(L.a,{value:e,children:e},e)}))})]}),Object(U.jsxs)(I.a,{className:e.formControl,variant:"standard",children:[Object(U.jsx)(F.a,{id:"select-shutter-speed-label",children:"Shutter Speed"}),Object(U.jsx)(B.a,{labelId:"select-shutter-speed-label",id:"select-shutter-speed",value:Q.value,onChange:function(e){return W(new J(e.target.value,Q.choices))},children:null===Q||void 0===Q?void 0:Q.choices.map((function(e){return Object(U.jsx)(L.a,{value:e,children:e},e)}))}),Object(U.jsxs)(P.a,{children:["Recommended shutter speed of max ",z,"s (500 Rule)"]})]}),Object(U.jsxs)(I.a,{className:e.formControl,variant:"standard",children:[Object(U.jsx)(F.a,{id:"select-f-stop-label",children:"FStop"}),Object(U.jsxs)(B.a,{labelId:"select-f-stop-label",id:"select-f-stop",value:$.value,onChange:function(e){return ee(new J(e.target.value,$.choices))},children:[" ",null===$||void 0===$?void 0:$.choices.map((function(e){return Object(U.jsx)(L.a,{value:e,children:e},e)}))]})]}),Object(U.jsxs)(I.a,{className:e.formControl,variant:"standard",children:[Object(U.jsx)(T.a,{label:"Delay (seconds)",id:"select-delay",value:ae,onChange:function(e){return ne(e.target.value)}}),Object(U.jsx)(P.a,{children:"The delay in-between each photo"})]}),Object(U.jsxs)(I.a,{className:e.formControl,children:[Object(U.jsx)(T.a,{label:"Takes",id:"select-takes",value:oe,onChange:function(e){return ie(e.target.value)}}),Object(U.jsx)(P.a,{children:"How many photos to take"})]}),Object(U.jsx)(I.a,{className:e.formControl,children:Object(U.jsx)(E.a,{variant:"contained",color:"primary",onClick:ke,children:he?fe:"Start"})}),Object(U.jsx)(I.a,{className:e.formControl,children:Object(U.jsx)(E.a,{variant:"outlined",color:"primary",onClick:function(){h(!0),fetch("http://".concat(r,":8080/capture-preview")).then((function(e){return e.blob()})).then((function(e){h(!1),ve(!0),Ce(URL.createObjectURL(e))})).catch((function(e){f(e),h(!1)}))},children:"Capture Preview"})}),Object(U.jsxs)(I.a,{className:e.formControl,children:[Object(U.jsx)(E.a,{variant:"outlined",onClick:ye,children:"Refresh"}),Object(U.jsx)(P.a,{children:"Refresh after adjusting the camera focus or zoom"})]})]}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{})]})},V=c(57),X=c(12);var _=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(S.a,{position:"static",children:Object(U.jsx)(C.a,{children:Object(U.jsx)(k.a,{variant:"h6",children:"Manage Camera"})})})})},q=Object(i.a)({stickToBottom:{width:"100%",position:"fixed",bottom:0}});var G=function(){var e=n.a.useState(0),t=Object(o.a)(e,2),c=t[0],a=t[1],r=q();return Object(U.jsx)(V.a,{children:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(X.c,{children:[Object(U.jsx)(X.a,{path:"/",exact:!0,children:Object(U.jsx)(H,{})}),Object(U.jsx)(X.a,{path:"/night",children:Object(U.jsx)(H,{})}),Object(U.jsx)(X.a,{path:"/camera",children:Object(U.jsx)(_,{})})]}),Object(U.jsxs)(l.a,{className:r.stickToBottom,value:c,onChange:function(e,t){a(t)},showLabels:!1,children:[Object(U.jsx)(j.a,{showLabel:!1,component:V.b,to:"/night",icon:Object(U.jsx)(u.a,{})}),Object(U.jsx)(j.a,{showLabel:!1,component:V.b,to:"/camera",icon:Object(U.jsx)(d.a,{})})]})]})})},K=c(169),Q=c(168),W=c(83),Y=c(68),Z=c.n(Y),$=Object(W.a)({palette:{primary:Z.a,secondary:Z.a,type:"dark"}});s.a.render(Object(U.jsxs)(Q.a,{theme:$,children:[Object(U.jsx)(K.a,{}),Object(U.jsx)(G,{})]}),document.getElementById("root"))},99:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.4ac8194a.chunk.js.map
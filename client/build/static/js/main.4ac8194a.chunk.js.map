{"version":3,"sources":["pages/NightPage.tsx","pages/CameraPage.tsx","App.tsx","theme.ts","index.js"],"names":["useStyles","makeStyles","theme","createStyles","formControl","width","marginBottom","spacing","backdrop","zIndex","drawer","color","appBar","display","title","marginLeft","flex","img","objectFit","KVPair","value","choices","this","loopCount","NightPage","classes","React","useState","webAddress","setWebAddress","loading","setLoading","error","setError","recShutter","setRecShutter","iso","setIso","shutterSpeed","setShutterSpeed","fStop","setFStop","delay","setDelay","takes","setTakes","running","setRunning","stopText","setStopText","dialogOpen","setDialogOpen","previewData","setPreviewData","useEffect","fetch","method","body","then","res","catch","refresh","a","json","b","c","d","exposeTime","parseFloat","Math","round","Promise","all","captureImage","Number","MAX_VALUE","loopFunc","parseInt","String","setTimeout","handleClose","Backdrop","className","open","CircularProgress","Dialog","fullScreen","onClose","AppBar","Toolbar","IconButton","edge","onClick","Typography","variant","src","alt","position","Container","Alert","severity","FormControl","TextField","label","id","onChange","v","target","FormHelperText","InputLabel","Select","labelId","map","MenuItem","Button","blob","URL","createObjectURL","CameraPage","stickToBottom","bottom","App","setValue","path","exact","BottomNavigation","event","newValue","showLabels","BottomNavigationAction","showLabel","component","Link","to","icon","createMuiTheme","palette","primary","cyan","secondary","type","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.4ac8194a.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  AppBar,\n  Typography,\n  Toolbar,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Container,\n  makeStyles,\n  createStyles,\n  Theme,\n  FormHelperText,\n  TextField,\n  Button,\n  Backdrop,\n  CircularProgress,\n  Dialog,\n  IconButton,\n} from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    formControl: {\n      width: \"100%\",\n      marginBottom: theme.spacing(3),\n    },\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n    appBar: {\n      display: \"relative\",\n    },\n    title: {\n      marginLeft: theme.spacing(2),\n      flex: 1,\n    },\n    img: {\n      display: \"Block\",\n      objectFit: \"contain\",\n      width: \"100%\",\n    },\n  })\n);\n\nclass KVPair {\n  constructor(value: string, choices: string[]) {\n    this.value = value;\n    this.choices = choices;\n  }\n\n  public value: string;\n  public choices: string[];\n}\n\nlet loopCount: number = 0;\n\nfunction NightPage() {\n  const classes = useStyles();\n  \n  const [webAddress, setWebAddress] = React.useState<string>(\"192.168.1.90\");\n\n  const [loading, setLoading] = React.useState<boolean>(true);\n  const [error, setError] = React.useState<string>();\n\n  const [recShutter, setRecShutter] = React.useState<string>(\"?\");\n\n  const [iso, setIso] = React.useState<KVPair>(new KVPair(\"\", [\"\"]));\n  const [shutterSpeed, setShutterSpeed] = React.useState(new KVPair(\"\", [\"\"]));\n  const [fStop, setFStop] = React.useState(new KVPair(\"\", [\"\"]));\n\n  const [delay, setDelay] = React.useState(\"5\");\n  const [takes, setTakes] = React.useState(\"10\");\n\n  const [running, setRunning] = React.useState(false);\n\n  const [stopText, setStopText] = React.useState(\"Stop\");\n\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n  const [previewData, setPreviewData] = React.useState(\"\");\n\n  useEffect(() => {\n    if (loading) return; // Prevent initial value being set\n\n    setLoading(true);\n\n    fetch(`http://${webAddress}:8080/set-config-item/iso`, {\n      method: \"POST\",\n      body: iso.value,\n    })\n      .then((res) => {\n        setLoading(false);\n      })\n      .catch((res) => {\n        setError(res);\n        setLoading(false);\n      });\n  }, [iso]);\n\n  useEffect(() => {\n    if (loading) return; // Prevent initial value being set\n\n    setLoading(true);\n\n    fetch(`http://${webAddress}:8080/set-config-item/shutterspeed`, {\n      method: \"POST\",\n      body: shutterSpeed.value,\n    })\n      .then((res) => {\n        setLoading(false);\n      })\n      .catch((res) => {\n        setError(res);\n        setLoading(false);\n      });\n  }, [shutterSpeed]);\n\n  useEffect(() => {\n    if (loading) return; // Prevent initial value being set\n\n    setLoading(true);\n\n    fetch(`http://${webAddress}:8080/set-config-item/f-number`, {\n      method: \"POST\",\n      body: fStop.value,\n    })\n      .then((res) => {\n        setLoading(false);\n      })\n      .catch((res) => {\n        setError(res);\n        setLoading(false);\n      });\n  }, [fStop]);\n\n  // Set the defaults (this only runs when the component is first mounted)\n  useEffect(() => {\n    refresh();\n  }, []);\n\n  const refresh = () => {\n    setLoading(true);\n\n    let a = fetch(`http://${webAddress}:8080/get-config-item/iso`)\n      .then((res) => res.json())\n      .then((res) => {\n        let iso = new KVPair(res.value, res.choices);\n        setIso(iso);\n      })\n      .catch((res) => {\n        setError(\"The camera is not connected, or the device is not on!\");\n      });\n\n    let b = fetch(`http://${webAddress}:8080/get-config-item/shutterspeed`)\n      .then((res) => res.json())\n      .then((res) => {\n        let shutterSpeed = new KVPair(res.value, res.choices);\n        setShutterSpeed(shutterSpeed);\n      })\n      .catch((res) => {\n        setError(\"The camera is not connected, or the device is not on!\");\n      });\n\n    let c = fetch(`http://${webAddress}:8080/get-config-item/f-number`)\n      .then((res) => res.json())\n      .then((res) => {\n        let fStop = new KVPair(res.value, res.choices);\n        setFStop(fStop);\n      })\n      .catch((res) => {\n        setError(\"The camera is not connected, or the device is not on!\");\n      });\n\n    let d = fetch(`http://${webAddress}:8080/get-config-item/focallength`)\n      .then((res) => res.json())\n      .then((res) => {\n        let focal = parseFloat(res.value);\n        let exposeTime = 500 / focal;\n        setRecShutter(Math.round(exposeTime) + \"\");\n      })\n      .catch(() => {\n        setRecShutter(\"???\");\n      });\n\n    // Set loading to false once complete\n    Promise.all([a, b, c, d]).then(() => {\n      setLoading(false);\n    });\n  };\n\n  const captureImage = async () => {\n    if (running) {\n      loopCount = Number.MAX_VALUE; // This forces the counter to stop\n      setRunning(false);\n      return;\n    }\n\n    setRunning(true);\n\n    loopCount = 0;\n    const loopFunc = async () => {\n      // At the end\n      if (loopCount >= Number.parseInt(takes)) {\n        setRunning(false);\n        return;\n      }\n\n      setStopText(\n        \"Stop (\" + (loopCount + 1) + \"/\" + Number.parseInt(takes) + \")\"\n      );\n\n      // Run the call\n      try {\n        await fetch(`http://${webAddress}:8080/capture-image`, {\n          method: \"POST\",\n        });\n        setLoading(false);\n      } catch (e) {\n        setError(String(e));\n        setLoading(false);\n      }\n\n      loopCount++;\n\n      setTimeout(loopFunc, 1000 * Number.parseFloat(delay));\n    };\n\n    // Call straight away\n    await loopFunc();\n  };\n\n  const capturePreview = () => {\n    // This may take some time\n    setLoading(true);\n\n    fetch(`http://${webAddress}:8080/capture-preview`)\n      .then((res) => res.blob())\n      .then((res) => {\n        setLoading(false);\n        setDialogOpen(true);\n        setPreviewData(URL.createObjectURL(res));\n      })\n      .catch((res) => {\n        setError(res);\n        setLoading(false);\n      });\n  };\n\n  const handleClose = () => {\n    setDialogOpen(false);\n  };\n\n  // The UI\n  return (\n    <>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <Dialog fullScreen open={dialogOpen} onClose={handleClose}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              onClick={handleClose}\n              aria-label=\"close\"\n            >\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              Image Preview\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <br /> <br /> <br />\n        <br /> <br /> <br />\n        <img src={previewData} className={classes.img} alt=\"Preview Image\" />\n      </Dialog>\n\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\">Night Photography</Typography>\n        </Toolbar>\n      </AppBar>\n\n      <br />\n\n      <Container>\n        {error ? (\n          <>\n            <Alert severity=\"error\">{error}</Alert>\n            <br />\n          </>\n        ) : (\n          \"\"\n        )}\n        \n        <FormControl className={classes.formControl} variant=\"standard\">\n          <TextField\n            label=\"Camera (Server) IP\"\n            id=\"select-web-address\"\n            value={webAddress}\n            onChange={(v) => setWebAddress(v.target.value as string)}\n          />\n          <FormHelperText>The IP address of the device connected to the camera</FormHelperText>\n        </FormControl>\n\n        <FormControl className={classes.formControl} variant=\"standard\">\n          <InputLabel id=\"select-iso-label\">ISO</InputLabel>\n          <Select\n            labelId=\"select-iso-label\"\n            id=\"select-iso\"\n            value={iso?.value}\n            onChange={(v) =>\n              setIso(new KVPair(v.target.value as string, iso.choices))\n            }\n          >\n            {iso?.choices.map((v) => (\n              <MenuItem key={v} value={v}>\n                {v}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <FormControl className={classes.formControl} variant=\"standard\">\n          <InputLabel id=\"select-shutter-speed-label\">Shutter Speed</InputLabel>\n          <Select\n            labelId=\"select-shutter-speed-label\"\n            id=\"select-shutter-speed\"\n            value={shutterSpeed.value}\n            onChange={(v) =>\n              setShutterSpeed(\n                new KVPair(v.target.value as string, shutterSpeed.choices)\n              )\n            }\n          >\n            {shutterSpeed?.choices.map((v) => (\n              <MenuItem key={v} value={v}>\n                {v}\n              </MenuItem>\n            ))}\n          </Select>\n\n          <FormHelperText>\n            Recommended shutter speed of max {recShutter}s (500 Rule)\n          </FormHelperText>\n        </FormControl>\n\n        <FormControl className={classes.formControl} variant=\"standard\">\n          <InputLabel id=\"select-f-stop-label\">FStop</InputLabel>\n          <Select\n            labelId=\"select-f-stop-label\"\n            id=\"select-f-stop\"\n            value={fStop.value}\n            onChange={(v) =>\n              setFStop(new KVPair(v.target.value as string, fStop.choices))\n            }\n          >\n            {\" \"}\n            {fStop?.choices.map((v) => (\n              <MenuItem key={v} value={v}>\n                {v}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <FormControl className={classes.formControl} variant=\"standard\">\n          <TextField\n            label=\"Delay (seconds)\"\n            id=\"select-delay\"\n            value={delay}\n            onChange={(v) => setDelay(v.target.value as string)}\n          />\n          <FormHelperText>The delay in-between each photo</FormHelperText>\n        </FormControl>\n\n        <FormControl className={classes.formControl}>\n          <TextField\n            label=\"Takes\"\n            id=\"select-takes\"\n            value={takes}\n            onChange={(v) => setTakes(v.target.value as string)}\n          />\n          <FormHelperText>How many photos to take</FormHelperText>\n        </FormControl>\n\n        <FormControl className={classes.formControl}>\n          <Button variant=\"contained\" color=\"primary\" onClick={captureImage}>\n            {running ? stopText : \"Start\"}\n          </Button>\n        </FormControl>\n\n        <FormControl className={classes.formControl}>\n          <Button variant=\"outlined\" color=\"primary\" onClick={capturePreview}>\n            Capture Preview\n          </Button>\n        </FormControl>\n\n        <FormControl className={classes.formControl}>\n          <Button variant=\"outlined\" onClick={refresh}>\n            Refresh\n          </Button>\n          <FormHelperText>\n            Refresh after adjusting the camera focus or zoom\n          </FormHelperText>\n        </FormControl>\n      </Container>\n\n      <br />\n      <br />\n    </>\n  );\n}\n\nexport default NightPage;\n","import React from \"react\";\nimport { AppBar, Typography, Toolbar } from \"@material-ui/core\";\n\nfunction CameraPage() {\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\">Manage Camera</Typography>\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n}\n\nexport default CameraPage;\n","import React from \"react\";\nimport \"./App.css\";\nimport {\n  BottomNavigation,\n  BottomNavigationAction,\n  makeStyles,\n} from \"@material-ui/core\";\nimport NightsStayTwoToneIcon from \"@material-ui/icons/NightsStayTwoTone\";\nimport LinkedCameraTwoToneIcon from \"@material-ui/icons/LinkedCameraTwoTone\";\nimport NightPage from \"./pages/NightPage\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport CameraPage from \"./pages/CameraPage\";\n\nconst useStyles = makeStyles({\n  stickToBottom: {\n    width: \"100%\",\n    position: \"fixed\",\n    bottom: 0,\n  },\n});\n\nfunction App() {\n  const [value, setValue] = React.useState(0);\n  const classes = useStyles();\n\n  return (\n    <Router>\n      <>\n        <Switch>\n          <Route path=\"/\" exact>\n            <NightPage />\n          </Route>\n          <Route path=\"/night\">\n            <NightPage />\n          </Route>\n          <Route path=\"/camera\">\n            <CameraPage />\n          </Route>\n        </Switch>\n\n        <BottomNavigation\n          className={classes.stickToBottom}\n          value={value}\n          onChange={(event, newValue) => {\n            setValue(newValue);\n          }}\n          showLabels={false}\n        >\n          <BottomNavigationAction\n            showLabel={false}\n            component={Link}\n            to=\"/night\"\n            icon={<NightsStayTwoToneIcon />}\n          />\n          <BottomNavigationAction\n            showLabel={false}\n            component={Link}\n            to=\"/camera\"\n            icon={<LinkedCameraTwoToneIcon />}\n          />\n        </BottomNavigation>\n      </>\n    </Router>\n  );\n}\n\nexport default App;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport cyan from \"@material-ui/core/colors/cyan\";\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: cyan,\n    secondary: cyan,\n    type: \"dark\",\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"typeface-roboto\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { theme } from \"./theme\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}